<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ZEPHENHEL CITADEL</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>

<body>
  <div class="bg"></div>

  <header class="topbar">
    <div class="brand">
      <div class="sigil"></div>
      <div>
        <div class="title">ZEPHENHEL CITADEL</div>
        <div class="subtitle">Mythic Tri-Chain Distribution Console</div>
      </div>
    </div>

    <div class="chips">
      <div class="chip" id="chainChip">CHAIN: <b>—</b></div>
      <div class="chip" id="splitterChip">SPLITTER: <b>—</b></div>
      <div class="chip" id="walletChip">WALLET: <b>DISCONNECTED</b></div>
      <button class="btn btn-gold" id="connectBtn">CONNECT</button>
    </div>
  </header>

  <main class="grid">
    <section class="card">
      <div class="card-h">Command Deck</div>

      <div class="row2">
        <div class="field">
          <label>Token Address (ERC20/BEP20)</label>
          <input id="tokenAddress" placeholder="0x…" spellcheck="false" />
          <div class="hint">Paste token address. Citadel will read symbol/decimals and pull USD price when available.</div>
        </div>

        <div class="field">
          <label>Amount</label>
          <div class="amountRow">
            <input id="amountInput" placeholder="0.0" inputmode="decimal" />
            <button class="btn btn-ghost" id="maxBtn">MAX</button>
          </div>
          <div class="hint" id="amountHint">MAX uses token balance (gas is paid in native coin).</div>
        </div>
      </div>

      <div class="row3">
        <div class="info">
          <div class="k">Token</div>
          <div class="v mono" id="tokenMeta">—</div>
        </div>
        <div class="info">
          <div class="k">Wallet Token Balance</div>
          <div class="v mono" id="tokenBalance">—</div>
        </div>
        <div class="info">
          <div class="k">USD Estimate</div>
          <div class="v mono" id="usdEstimate">—</div>
          <div class="tiny">Platform fee: <span class="tinyGold">1%</span></div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="card-h">Recipients</div>
      <div class="hint">Use simple percentages (0–100). Total must equal <b>100</b>.</div>

      <div class="recHead">
        <div>Address</div><div>%</div><div></div>
      </div>
      <div id="recipients"></div>

      <div class="recFoot">
        <div class="pill">TOTAL: <span id="totalPercent">0</span>%</div>
        <button class="btn btn-ghost" id="addRecipientBtn">+ ADD RECIPIENT</button>
      </div>

      <div class="actions">
        <button class="btn btn-outline" id="approveBtn">APPROVE</button>
        <button class="btn btn-gold big" id="executeBtn">EXECUTE SPLIT</button>
      </div>

      <div class="banner" id="banner">System ready. Connect wallet to begin.</div>
    </section>

    <section class="card">
      <div class="card-h">Intel Panel</div>

      <div class="intel">
        <div class="intelRow">
          <div class="k">Wallet</div>
          <div class="v mono" id="walletAddr">—</div>
        </div>
        <div class="intelRow">
          <div class="k">Native Balance</div>
          <div class="v mono" id="nativeBalance">—</div>
        </div>
        <div class="intelRow">
          <div class="k">Status</div>
          <div class="v" id="statusLine">—</div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="card-h">Runtime Log</div>
      <pre class="log" id="logBox"></pre>
    </section>
  </main>

  <footer class="footer">Zephenhel © Citadel Console</footer>

  <script src="app.js"></script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZEPHENHEL CITADEL — Tri-Chain Splitter</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>

<body>
  <div class="bg"></div>

  <header class="topbar">
    <div class="brand">
      <div class="sigil">Z</div>
      <div class="brandText">
        <div class="title">ZEPHENHEL CITADEL</div>
        <div class="sub">Mythic tri-chain splitter • BSC • Ethereum • Polygon</div>
      </div>
    </div>

    <div class="hud">
      <div class="pill" id="netPill">Network: —</div>
      <div class="pill" id="acctPill">Wallet: Disconnected</div>
      <button class="btn gold" id="btnConnect">Connect</button>
      <button class="btn" id="btnSwitch">Switch Network</button>
    </div>
  </header>

  <main class="grid">
    <!-- LEFT: Control -->
    <section class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">Splitter Command</div>
          <div class="cardHint">Uses your deployed splitter for the active chain. Percent split must total 100.</div>
        </div>
        <div class="badge">Fee: <span class="tiny">1% (platform)</span></div>
      </div>

      <div class="row2">
        <div class="field">
          <label>Mode</label>
          <select id="mode">
            <option value="split">Split (ERC20 / BEP20)</option>
          </select>
        </div>

        <div class="field">
          <label>Active Splitter Contract</label>
          <input id="splitterAddr" type="text" readonly />
          <div class="mini" id="splitterNote"></div>
        </div>
      </div>

      <div class="field">
        <label>Token Contract Address</label>
        <input id="tokenAddr" placeholder="0x… (ERC20/BEP20)" />
        <div class="mini">
          Tip: paste token contract for the same network you’re connected to.
        </div>
      </div>

      <div class="row2">
        <div class="field">
          <label>Amount (token units)</label>
          <div class="withBtn">
            <input id="amount" placeholder="0.0" />
            <button class="btn miniBtn" id="btnMax">MAX</button>
          </div>
          <div class="mini" id="amountHint">Gas is paid in the native coin (BNB/ETH/MATIC) separately.</div>
        </div>

        <div class="panel">
          <div class="panelHead">
            <div class="panelTitle">Token & Value</div>
            <div class="chip" id="liveChip">LIVE</div>
          </div>
          <div class="kv">
            <div class="k">Symbol</div><div class="v" id="tokSymbol">—</div>
            <div class="k">Decimals</div><div class="v" id="tokDecimals">—</div>
            <div class="k">Your token bal</div><div class="v" id="tokBal">—</div>
            <div class="k">USD est</div><div class="v" id="usdEst">—</div>
            <div class="k">Native bal</div><div class="v" id="nativeBal">—</div>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="recipientsHead">
        <div>
          <div class="cardTitle">Recipients</div>
          <div class="cardHint">Add/remove rows. Percent must total exactly 100.</div>
        </div>
        <div class="right">
          <div class="pill" id="totalPill">Total: 0%</div>
          <button class="btn" id="btnAdd">+ Add Recipient</button>
        </div>
      </div>

      <div id="recipients"></div>

      <div class="actions">
        <button class="btn" id="btnApprove">Approve</button>
        <button class="btn gold" id="btnSplit">Execute Split</button>
      </div>

      <div class="status" id="statusBar">Ready.</div>
    </section>

    <!-- RIGHT: Log + Safety -->
    <section class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">Event / Status Log</div>
          <div class="cardHint">If something fails, this is what we read first.</div>
        </div>
        <button class="btn" id="btnClear">Clear</button>
      </div>

      <pre class="log" id="log"></pre>

      <div class="footnote">
        Experimental frontend. Always test tiny amounts first.
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
